(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1603],{65891:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L},frontMatter:function(){return w},metadata:function(){return D},toc:function(){return j}});var l,r,a,i=n(74034),o=n(79973),c=n(67294),u=n(3905),p=n(29163),s=n(81656),d=n(45949),m=n(25386),f=n(92524),g=n(93709),h=n(16719),b=n(24743),E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(){return(y=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},x=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var l=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,r++)l[r]=a[i];return l},k=p.ZP.div(r||(r=E(["\n  margin: 10px 0;\n  background: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  > div {\n    height: 80px;\n    margin-right: 7px;\n  }\n"],["\n  margin: 10px 0;\n  background: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  > div {\n    height: 80px;\n    margin-right: 7px;\n  }\n"])),s.Z.bgActive),_=p.ZP.div(a||(a=E(["\n  position: relative;\n  margin-top: 10px;\n\n  label {\n    padding: 7px 15px;\n    background: ",";\n    border-radius: 4px;\n    font-weight: 500;\n    transition: background 0.3s ease;\n    display: inline-block;\n\n    &:hover {\n      background: ",';\n      cursor: pointer;\n    }\n  }\n\n  input[type="file"] {\n    display: none;\n  }\n'],["\n  position: relative;\n  margin-top: 10px;\n\n  label {\n    padding: 7px 15px;\n    background: ",";\n    border-radius: 4px;\n    font-weight: 500;\n    transition: background 0.3s ease;\n    display: inline-block;\n\n    &:hover {\n      background: ",';\n      cursor: pointer;\n    }\n  }\n\n  input[type="file"] {\n    display: none;\n  }\n'])),(0,d.m4)(s.Z.colorCoreDarkBlue,.05),(0,d.m4)(s.Z.colorCoreDarkBlue,.1)),U=function(e){function t(t){var n=e.call(this,t)||this;return n.handleFileInput=function(e){var t=e.target,l=t.files;(0,g.Z)({files:l,beforeUpload:function(){n.setState({loading:!0})},afterUpload:function(e){var t=e.status,l=e.response,r=e.fileInfo;if("ok"!==t)return m.Z.error(l),n.setState({loading:!1});m.Z.info("Success");var a=y({url:l},r),i=x([a],n.state.attachments);n.props.onChange(i),n.setState({loading:!1,attachments:i})}}),t.value=""},n.removeAttachment=function(e){var t=x(n.state.attachments);t.splice(e,1),n.setState({attachments:t}),n.props.onChange(t)},n.state={attachments:t.defaultFileList||[],loading:!1},n}return v(t,e),t.prototype.renderUploadButton=function(){var e=this.props,t=e.multiple;return e.single&&this.state.attachments.length>0?null:c.createElement(_,null,c.createElement("label",null,(0,f.__)("Upload an attachment"),c.createElement("input",{type:"file",multiple:t,onChange:this.handleFileInput})))},t.prototype.render=function(){var e=this.props,t=e.limit,n=void 0===t?4:t,l=e.onChange,r=this.state,a=r.attachments,i=r.loading;return c.createElement(c.Fragment,null,i&&c.createElement(k,null,c.createElement(h.Z,{objective:!0,size:18}),(0,f.__)("Uploading"),"..."),c.createElement(b.Z,{attachments:a,limit:n,onChange:l,removeAttachment:this.removeAttachment}),this.renderUploadButton())},t.defaultProps={multiple:!0,limit:4},t}(c.Component),C=n(50210),Z=n(60641),S=n(69713);function P(e){var t,n,l=e.singl,r=e.multi,a=e.lmt,i=e.type,o=e.defaultFiles,u=(e.table,[{name:"testFile.docx",type:"text",url:"/home/ariuka/Documents/test.docx"},{name:"testFile2.docx",type:"text",url:"/home/ariuka/Documents/test.docx"}]),p=function(){return{single:l,multiple:r,limit:a,defaultFileList:o&&u}};return"APIuploader"===i?c.createElement(c.Fragment,null,c.createElement(C.Z,{className:"language-javascript"},'import Uploader from "erxes-ui/lib/components/Uploader";'),c.createElement("p",null,"required prop - ",c.createElement("span",{className:Z.Z.required},"*")),c.createElement(S.Z,null,c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{colSpan:"2"},"Name"),c.createElement("th",null,"Type"),c.createElement("th",null,"Defualt"),c.createElement("th",null,"Description"))),c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{rowSpan:"4"},"defaultFileList",c.createElement("span",{className:Z.Z.required},"*")," ","(array)"),c.createElement("td",null,"name",c.createElement("span",{className:Z.Z.required},"*")),c.createElement("td",null,"string"),c.createElement("td",null),c.createElement("td",null,"Define file name")),c.createElement("tr",null,c.createElement("td",null,"type",c.createElement("span",{className:Z.Z.required},"*")),c.createElement("td",null,"string"),c.createElement("td",null),c.createElement("td",null,"Define file type")),c.createElement("tr",null,c.createElement("td",null,"url",c.createElement("span",{className:Z.Z.required},"*")),c.createElement("td",null,"string"),c.createElement("td",null),c.createElement("td",null,"Define file path")),c.createElement("tr",null,c.createElement("td",null,"size"),c.createElement("td",null,"number"),c.createElement("td",null),c.createElement("td",null,"Define file size")),c.createElement("tr",null,c.createElement("td",{colSpan:"2"},"onChange"),c.createElement("td",null,"function"),c.createElement("td",null),c.createElement("td",null,"Adding attachments")),c.createElement("tr",null,c.createElement("td",{colSpan:"2"},"single"),c.createElement("td",null,"boolean"),c.createElement("td",null),c.createElement("td",null,"Makes the uploader inactive to upload files")),c.createElement("tr",null,c.createElement("td",{colSpan:"2"},"limit"),c.createElement("td",null,"number"),c.createElement("td",null),c.createElement("td",null,"Sets limit to files")),c.createElement("tr",null,c.createElement("td",{colSpan:"2"},"multiple"),c.createElement("td",null,"boolean"),c.createElement("td",null),c.createElement("td",null,"Define it can upload multiple files or only one file"))))):c.createElement(c.Fragment,null,c.createElement("div",{className:Z.Z.styled},c.createElement(U,p())),c.createElement(C.Z,{className:"language-jsx"},"<>\n\t<Uploader "+(t=p(),(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=JSON.stringify(t)).replace(/{}/g,"")).replace(/{"/g,"{")).replace(/":/g,":")).replace(/,"/g,", ")).replace(/:true/g,"")).replace(/:false/g,"={false}")).replace(/:2/g,"={2}")).replace(/]/g,"\n\t]}")).slice(1,n.length-1)).replace(/defaultFileList:/g,"defaultFileList={")).replace(/{name/g,"\n\t\t{name")+" />\n</>")))}var w={id:"uploader",title:"Uploader"},D={unversionedId:"components/Uploader/uploader",id:"components/Uploader/uploader",isDocsHomePage:!1,title:"Uploader",description:"Multiple",source:"@site/docs/components/Uploader/uploader.md",sourceDirName:"components/Uploader",slug:"/components/Uploader/uploader",permalink:"/components/Uploader/uploader",editUrl:"https://github.com/erxes/erxes/edit/develop/docs/docs/components/Uploader/uploader.md",version:"current",lastUpdatedBy:"enkhzule",lastUpdatedAt:1638773199,formattedLastUpdatedAt:"12/6/2021",frontMatter:{id:"uploader",title:"Uploader"},sidebar:"components",previous:{title:"Toggle",permalink:"/components/Toggle/toggle"},next:{title:"Alert",permalink:"/utilities/Alert/alert"}},j=[{value:"Multiple",id:"multiple",children:[]},{value:"Limit",id:"limit",children:[]},{value:"Single",id:"single",children:[]},{value:"Default files",id:"default-files",children:[]},{value:"API",id:"api",children:[]}],F={toc:j};function L(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,u.kt)("wrapper",(0,i.Z)({},F,n,{components:t,mdxType:"MDXLayout"}),(0,u.kt)("h2",{id:"multiple"},"Multiple"),(0,u.kt)("p",null,"Choose multiple file."),(0,u.kt)(P,{multi:!0,mdxType:"UploaderComponent"}),(0,u.kt)("p",null,"Choose only one file."),(0,u.kt)(P,{multi:!1,mdxType:"UploaderComponent"}),(0,u.kt)("h2",{id:"limit"},"Limit"),(0,u.kt)("p",null,"Set limit to files."),(0,u.kt)(P,{lmt:2,mdxType:"UploaderComponent"}),(0,u.kt)("h2",{id:"single"},"Single"),(0,u.kt)("p",null,"Make the uploader inactive to upload files with ",(0,u.kt)("code",null,"single")," prop."),(0,u.kt)(P,{singl:!0,mdxType:"UploaderComponent"}),(0,u.kt)("h2",{id:"default-files"},"Default files"),(0,u.kt)("p",null,"Show default files by giving the files array to ",(0,u.kt)("code",null,"defaultFileList"),"."),(0,u.kt)(P,{defaultFiles:!0,mdxType:"UploaderComponent"}),(0,u.kt)("h2",{id:"api"},"API"),(0,u.kt)(P,{type:"APIuploader",table:[["single","boolean","","Make the uploader inactive to upload"],["multiple","boolean","true","Make the uploader able to upload multiple files"],["limit","number","4","Limit the number of files to upload"],["defaultFileList*","array","","Show default files"],["onChange*","function","","Function of handling uploaded attachments"]],mdxType:"UploaderComponent"}))}L.isMDXComponent=!0},16719:function(e,t,n){"use strict";var l,r,a=n(30783),i=n(67294),o=n(29163),c=n(131),u=n.n(c),p=n(89816),s=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},d=u()(o.ZP.div)(l||(l=s(["\n  height: ",";\n  position: ",";\n"],["\n  height: ",";\n  position: ",";\n"])),(function(e){return e.objective&&"100px"}),(function(e){return e.objective&&"relative"})),m=u()(o.ZP.div)(r||(r=s(["\n  position: absolute;\n  left: ",";\n  right: ",";\n  top: ",";\n  bottom: ",";\n  width: ","px;\n  height: ","px;\n  margin-left: -","px;\n  margin-top: -","px;\n  animation: "," 0.75s linear infinite;\n  border: 2px solid ",";\n  border-top-color: ",";\n  border-right-color: ",";\n  border-radius: 100%;\n"],["\n  position: absolute;\n  left: ",";\n  right: ",";\n  top: ",";\n  bottom: ",";\n  width: ","px;\n  height: ","px;\n  margin-left: -","px;\n  margin-top: -","px;\n  animation: "," 0.75s linear infinite;\n  border: 2px solid ",";\n  border-top-color: ",";\n  border-right-color: ",";\n  border-radius: 100%;\n"])),(function(e){return e.left}),(function(e){return e.right}),(function(e){return e.top}),(function(e){return e.bottom}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size&&e.size/2}),a.U1,p.O9.borderDarker,p.O9.colorSecondary,p.O9.colorSecondary);t.Z=function(e){var t=e.objective,n=void 0!==t&&t,l=e.size,r=void 0===l?26:l,a=e.top,o=void 0===a?"50%":a,c=e.bottom,u=void 0===c?"auto":c,p=e.left,s=void 0===p?"50%":p,f=e.right,g=void 0===f?"auto":f;return i.createElement(d,{objective:n},i.createElement(m,{size:r,top:o,bottom:u,right:g,left:s}))}},60641:function(e,t){"use strict";t.Z={buttons:"buttons_18wb",step:"step_2TGP",dedicationWrapper:"dedicationWrapper_3CLG",featureImage:"featureImage_Nz4U",investIcon:"investIcon_1E_p",smallDesc:"smallDesc_rLtZ",description:"description_30kM",item:"item_281F",link:"link_3jTK",iframe:"iframe_WMJZ",clientsWrapper:"clientsWrapper_2zdX",clients:"clients_21O3",features:"features_2xlB",iconWrapper:"iconWrapper_2t8I",colorYellow:"colorYellow_iVS4",colorPrimary:"colorPrimary_1n6O",descriptionList:"descriptionList_3h7-",styled:"styled_304r",styleSpinner:"styleSpinner_1qYL",spinner:"spinner_3Hax",sortHandlerContainer:"sortHandlerContainer_1ei3",blueP:"blueP__d2Y",TipsContainer:"TipsContainer_u6UJ",bigContainer:"bigContainer_26LP",required:"required_3y-p",iconButton:"iconButton_3UNH",searchBar:"searchBar_26hY",test:"test_1ZxE",smBox:"smBox_28BN",sizeBox:"sizeBox_3Wh4",datecontrol:"datecontrol_2iyS",formborder:"formborder_2Ad9",controllabel:"controllabel_CiyA"}}}]);