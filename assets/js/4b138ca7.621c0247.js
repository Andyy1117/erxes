(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1710],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return u}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(t),u=a,g=m["".concat(s,".").concat(u)]||m[u]||d[u]||o;return t?r.createElement(g,i(i({ref:n},p),{},{components:t})):r.createElement(g,i({ref:n},p))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},83050:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return i},metadata:function(){return l},toc:function(){return s},default:function(){return p}});var r=t(74034),a=t(79973),o=(t(67294),t(3905)),i={id:"mac",title:"Mac",sidebar_label:"Mac"},l={unversionedId:"developer/mac",id:"developer/mac",isDocsHomePage:!1,title:"Mac",description:"The following documentation will guide you through the installation of an erxes project using Docker on MacOS.",source:"@site/docs/developer/mac.md",sourceDirName:"developer",slug:"/developer/mac",permalink:"/developer/mac",editUrl:"https://github.com/erxes/erxes/edit/erxes-docs-blog/docs/docs/developer/mac.md",version:"current",lastUpdatedBy:"Nauren Batjargal",lastUpdatedAt:1659895972,formattedLastUpdatedAt:"8/7/2022",sidebar_label:"Mac",frontMatter:{id:"mac",title:"Mac",sidebar_label:"Mac"},sidebar:"docs",previous:{title:"Ubuntu",permalink:"/developer/ubuntu"},next:{title:"Choose your plugins",permalink:"/plugins/choose-your-plugins"}},s=[{value:"Preparing the installation",id:"preparing-the-installation",children:[{value:"Installing erxes",id:"installing-erxes",children:[]},{value:"Installing dependencies using docker",id:"installing-dependencies-using-docker",children:[]},{value:"Running erxes",id:"running-erxes",children:[]}]}],c={toc:s};function p(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The following documentation will guide you through the installation of an erxes project using ",(0,o.kt)("a",{href:"https://www.docker.com/",target:"_blank"},"Docker")," on ",(0,o.kt)("a",{href:"https://www.apple.com/macos/monterey/",target:"_blank"},"MacOS"),"."),(0,o.kt)("p",null,"Docker is an open platform that allows to develop, ship and run applications by using containers (i.e. packages containing all the parts an application needs to function, such as libraries and dependencies)."),(0,o.kt)("h2",{id:"preparing-the-installation"},"Preparing the installation"),(0,o.kt)("p",null,"erxes installation requires at least four software prerequisites to be already installed on your computer:"),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Prerequisites")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://github.com/git-guides/install-git",target:"_blank"},"Git")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js"),": only LTS versions are supported (v14 and v16). Other versions of Node.js may not be compatible with the latest release of erxes. The 14.x version is most recommended by erxes."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/cli/v6/commands/npm-install"},"npm")," (v6 only) or ",(0,o.kt)("a",{parentName:"li",href:"https://yarnpkg.com/getting-started/install"},"yarn")," to run the CLI installation scripts."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://docs.docker.com/engine/install/"},"Docker"))))),(0,o.kt)("h3",{id:"installing-erxes"},"Installing erxes"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In terminal, run the following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"git clone git@github.com:erxes/erxes.git\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Switch a federation branch by using following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"git checkout federation\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Instal node modules by using following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cd erxes\nyarn install\n")),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Instal pm2 by using following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"sudo npm install -g pm2\n")),(0,o.kt)("h3",{id:"installing-dependencies-using-docker"},"Installing dependencies using docker"),(0,o.kt)("p",null,"Include the below scripts in docker-compose.yml:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'version: \'3.6\'\nservices:\n  mongo:\n    hostname: mongo\n    image: mongo:4.0.10\n    # container_name: mongo\n    ports:\n      - "27017:27017"\n    networks:\n      - erxes-net\n    healthcheck:\n      test: test $$(echo "rs.initiate().ok || rs.status().ok" | mongo --quiet) -eq 1\n      interval: 2s\n      timeout: 2s\n      retries: 200\n    command: ["--replSet", "rs0", "--bind_ip_all"]\n    extra_hosts:\n      - "mongo:127.0.0.1"\n    volumes:\n      - ./data/db:/data/db\n\n  redis:\n    image: \'redis\'\n    # container_name: redis\n    # command: redis-server --requirepass pass\n    ports:\n      - "6379:6379"\n    networks:\n      - erxes-net\n\n  rabbitmq:\n    image: rabbitmq:3.7.17-management\n    # container_name: rabbitmq\n    restart: unless-stopped\n    hostname: rabbitmq\n    ports:\n      - "15672:15672"\n      - "5672:5672"\n    networks:\n      - erxes-net\n    # RabbitMQ data will be saved into ./rabbitmq-data folder.\n    volumes:\n      - ./rabbitmq-data:/var/lib/rabbitmq\n\nnetworks:\n  erxes-net:\n    driver: bridge\n')),(0,o.kt)("p",null,"Run the following command in the folder where above file exist:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker-compose up -d\n")),(0,o.kt)("h3",{id:"running-erxes"},"Running erxes"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cd erxes/cli\nyarn install\n")),(0,o.kt)("p",null,"Copy configs.json.sample, then convert it to configs.json."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "jwt_token_secret": "token",\n    "client_portal_domains": "",\n    "elasticsearch": {},\n    "redis": {\n        "password": "pass"\n    },\n    "mongo": {\n        "username": "",\n        "password": ""\n    },\n    "rabbitmq": {\n        "cookie": "",\n        "user": "",\n        "pass": "",\n        "vhost": ""\n    },\n    "plugins": [\n        {\n            "name": "logs"\n        }\n    ]\n}\n')),(0,o.kt)("p",null,"To run your erxes project created with Docker, use one of the following commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"./bin/erxes.js dev --deps\n")))}p.isMDXComponent=!0}}]);