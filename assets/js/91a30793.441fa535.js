(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[496],{3905:function(e,t,o){"use strict";o.d(t,{Zo:function(){return p},kt:function(){return d}});var r=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(o),d=n,g=m["".concat(s,".").concat(d)]||m[d]||c[d]||a;return o?r.createElement(g,l(l({ref:t},p),{},{components:o})):r.createElement(g,l({ref:t},p))}));function d(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,l=new Array(a);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var u=2;u<a;u++)l[u]=o[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},67120:function(e,t,o){"use strict";o.r(t),o.d(t,{frontMatter:function(){return l},metadata:function(){return i},toc:function(){return s},default:function(){return p}});var r=o(74034),n=o(79973),a=(o(67294),o(3905)),l={id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting"},i={unversionedId:"developer/troubleshooting",id:"developer/troubleshooting",isDocsHomePage:!1,title:"Troubleshooting",description:"Nylas",source:"@site/docs/developer/troubleshooting.md",sourceDirName:"developer",slug:"/developer/troubleshooting",permalink:"/developer/troubleshooting",editUrl:"https://github.com/erxes/erxes/edit/erxes-docs-blog/docs/docs/developer/troubleshooting.md",version:"current",lastUpdatedBy:"soyombo",lastUpdatedAt:1611488948,formattedLastUpdatedAt:"1/24/2021",sidebar_label:"Troubleshooting",frontMatter:{id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting"}},s=[{value:"Nylas",id:"nylas",children:[]},{value:"Integration",id:"integration",children:[]},{value:"Revoke Google app",id:"revoke-google-app",children:[]},{value:"Password Encryption",id:"password-encryption",children:[]},{value:"Nylas IMAP",id:"nylas-imap",children:[]},{value:"Nylas Gmail IMAP",id:"nylas-gmail-imap",children:[]},{value:"Gmail",id:"gmail",children:[]},{value:"Elksyncer",id:"elksyncer",children:[]}],u={toc:s};function p(e){var t=e.components,o=(0,n.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"nylas"},"Nylas"),(0,a.kt)("p",null,"Having troubles with your own Nylas App? We recommend you to read this ",(0,a.kt)("a",{parentName:"p",href:"https://docs.nylas.com/docs"},"developer guide"),"."),(0,a.kt)("h2",{id:"integration"},"Integration"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"After you create an integration do not forget to add it to a channel, Otherwise, you will not see an email or message integration in Inbox.")),(0,a.kt)("h2",{id:"revoke-google-app"},"Revoke Google app"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"After removing your ",(0,a.kt)("strong",{parentName:"li"},"Nylas-Gmail")," or ",(0,a.kt)("strong",{parentName:"li"},"Gmail")," account from Erxes you will also need to revoke your Erxes app ",(0,a.kt)("a",{parentName:"li",href:"https://myaccount.google.com/permissions"},"Google App permissions"),".")),(0,a.kt)("h2",{id:"password-encryption"},"Password Encryption"),(0,a.kt)("p",null,"In ",(0,a.kt)("strong",{parentName:"p"},"Outlook"),", ",(0,a.kt)("strong",{parentName:"p"},"Yahoo"),", ",(0,a.kt)("strong",{parentName:"p"},"IMAP")," providers your password needs to be encrypted so following configs are required before you create an account."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"ALGORITHM"),(0,a.kt)("li",{parentName:"ul"},"ENCRYPTION KEY")),(0,a.kt)("img",{src:"https://erxes-docs.s3-us-west-2.amazonaws.com/troubleshooting/troubleshoot-3.png"}),(0,a.kt)("h2",{id:"nylas-imap"},"Nylas IMAP"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Before you add IMAP account please make sure that you already config ENCRYPTION KEY, ALGORITHM ",(0,a.kt)("a",{parentName:"p",href:"#password-encryption"},"here"),".")),(0,a.kt)("p",null,"When you create the IMAP account, it should look like as follows:"),(0,a.kt)("img",{src:"https://erxes-docs.s3-us-west-2.amazonaws.com/troubleshooting/troubleshoot-2.png"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Common ",(0,a.kt)("a",{parentName:"li",href:"https://www.arclab.com/en/kb/email/list-of-smtp-and-imap-servers-mailserver-list.html"},"a List of SMTP and IMAP Server"),"."),(0,a.kt)("li",{parentName:"ul"},"If you have Nylas IMAP specific problem read ",(0,a.kt)("a",{parentName:"li",href:"https://docs.nylas.com/docs/imap"},"here"),".")),(0,a.kt)("h2",{id:"nylas-gmail-imap"},"Nylas Gmail IMAP"),(0,a.kt)("p",null,"If you encounter ",(0,a.kt)("strong",{parentName:"p"},"Invalid authentication or incorrect username password")," when you create Gmail IMAP integration, Please check the following"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ensure that you entered the correct password"),(0,a.kt)("li",{parentName:"ul"},"Ensure that you enabled the IMAP Access in ",(0,a.kt)("a",{parentName:"li",href:"https://mail.google.com/mail/u/0/#settings/general"},"Gmail config")),(0,a.kt)("li",{parentName:"ul"},"Ensure that you turned on the ",(0,a.kt)("a",{parentName:"li",href:"https://myaccount.google.com/lesssecureapps"},"Less secure app")," on your personal email address. If you're using GSuite, click ",(0,a.kt)("a",{parentName:"li",href:"https://admin.google.com/u/5/ac/security/lsa"},"here")," to go to your Google Admin console and allow users to manage their access to less secure apps.")),(0,a.kt)("p",null,"If you don't know how to configure these, please go ahead to Gmail IMAP doc section ",(0,a.kt)("a",{parentName:"p",href:"https://www.erxes.org/administrator/system-config/#gmail-imap"},"here")),(0,a.kt)("h2",{id:"gmail"},"Gmail"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Before you use Gmail integration please make sure that you enter correct GOOGLE TOPIC, GOOGLE GMAIL SUBSCRIPTION NAME it should be single string otherwise you will get invalid_format error.")),(0,a.kt)("img",{src:"https://erxes-docs.s3-us-west-2.amazonaws.com/troubleshooting/troubleshoot-1.png"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Permission Denied, when creating or checking Google Topic and Subscription make sure your service account has owner role in IAM & Admin -> IAM.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"If you are not receiving any emails, please check you add Grant Publish Topic right to ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"mailto:gmail-api-push@system.gserviceaccount.com"},"gmail-api-push@system.gserviceaccount.com"))," in IAM & Admin -> IAM -> Add.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"When the Integration repository starts it will automatically create a topic and subscription for syncing, receiving emails. But if you have not configured your system environment you might see the following error - ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/docs/authentication/getting-started"}," Google Cloud Getting started ")))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"7 PERMISSION_DENIED: User not authorized to perform this action.\n")),(0,a.kt)("p",null,"To fix the above error set the following variable to your environment."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'export GOOGLE_APPLICATION_CREDENTIALS="/Path/to/your/[google_cred].json"\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"When your Gmail's topic and subscription is not created automatically and got the following error:")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Error Sending test Message to Cloud PubSub projects topics/gmail_topic: Resource not found (resource=topic)")),(0,a.kt)("p",null,"Please make sure that you added an ",(0,a.kt)("strong",{parentName:"p"},"absolute")," path in ",(0,a.kt)("strong",{parentName:"p"},"GOOGLE_APPLICATION_CREDENTIALS"),"."),(0,a.kt)("h2",{id:"elksyncer"},"Elksyncer"),(0,a.kt)("p",null,"If you encounter ",(0,a.kt)("strong",{parentName:"p"},"Last entry no longer in oplog cannot recover!")," when you start elksyncer, Please remove ",(0,a.kt)("strong",{parentName:"p"},"oplog.timestamp")," file inside erxes/elksyncer directory. Then start it up again and elksyncer should be fine."))}p.isMDXComponent=!0}}]);